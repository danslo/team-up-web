.page-header
	h2.nullable
		| {{ui.task.tasks}}
.tabbable.tabs-left
	ul.nav.nav-tabs.nav-tabs-app(style='margin-right: 0px;', bs-navbar)
		include ../task/tabs
	.tab-content
		#allTasks.tab-pane(class="{{(views.allTasks==true) && 'active'}}")
			.tab-header
				h3.pull-left {{ui.task.allTasks}}
			hr

			article(ng-show='tasks.all.loading'): p {{ ui.task.tasks }} {{ ui.task.hasToLoad }}

			article(ng-hide='tasks.all.loading')

				//p(ng-hide='tasks.all.list.length > 0') {{ui.task.noTasks}}
				p(ng-hide='(tasks.all.list | filter: task.team ).length > 0') {{ui.task.noTasks}}
				//pre: small {{tasks.all.list[0] | json}}

				.well(style='padding-top: 25px', ng-show='tasks.all.archieve')
					label(style='margin-right: 15px; display: none')
						input(type='checkbox', ng-model='showOnlyAvailable')
						small &nbsp;{{ ui.task.showOnlyNotAssignedTasks }}
					label
						input(type='checkbox',
						ng-model='showAllTasks',
						ng-change='showTasks(showAllTasks, "all")')
						small &nbsp;{{ ui.task.showArchivedTasks }}

				//table.table.table-striped.taskTable(ng-show='tasks.all.list.length > 0')
				table.table.table-striped.taskTable(ng-show='(tasks.all.list | filter: task.team ).length > 0')
					thead
						tr
							th
								a(ng-click='orderBy("status")') {{ ui.task.status }}
									i.icon-sort
							th
							th
								a(ng-click='orderBy("relatedClient.fullName")') {{ui.task.clientName}}
									i.icon-sort
							th {{ui.task.information}}
							th(colspan='2')
							th
								a(ng-click='orderBy("assignedTeamMember.fullName")') {{ ui.task.member }}
									i.icon-sort
							th(colspan='1')

					tbody
						// tr(ng-repeat='task in tasks.all.list | filter: filterFn | orderBy:ordered : reversed')
						// tr(ng-repeat='task in tasks.all.list | filter: {assignedTeamMemberUuid: null} | orderBy:ordered : reversed')
						tr(ng-repeat='task in tasks.all.list | orderBy:ordered : reversed | filter: task.team')
							td: span.label(class='label-task-state-{{task.status}}') {{task.statusLabel}}
							td
								.roundedPicSmall.memberStateBusy(
								back-img='{{task.relatedClientUuid |  avatar:"client":"80"}}'
								)
							td
								small
									a(href='index.html#/clientProfile/{{task.relatedClientUuid}}#viewClient')
										| {{task.relatedClient.fullName}}
							td
								span.taskIcon.icon-location4(ng-show='task.relatedClient.fullAddress' aria-hidden='true', data-icon='îˆš')
								small {{task.relatedClient.fullAddress}}
								br
								span.taskIcon.icon-time(aria-hidden='true')
								small {{task.plannedTaskDuration.label}}
							td
								a.taskAssignIcon(href='')
									span.icomoon.icon-link(link-icon-hovered='',
									aria-hidden='true',
									ng-show='task.assignedTeamMember',
									ng-click='unAssignTask(task)')
							td
								.roundedPicSmall.memberStateBusy(
								back-img='{{task.assignedTeamMemberUuid | avatar:"team":"80"}}',
								ng-show='task.assignedTeamMember'
								)
							td
								a(href='index.html#/profile/{{task.assignedTeamMemberUuid}}#profile')
									| {{task.assignedTeamMember.fullName}}
							td
								.pull-right
									button.btn-primary.btn-mini(type='button',
									ng-hide='task.assignedTeamMember',
									ng-click='assignTask(task)')
										i.icon-plus
									button.btn-primary.btn-mini(type='button', ng-click='openTask(task)')
										i.icon-info(style='margin-top:1px')
									a.button-anchor(href='index.html#/task/{{task.uuid}}/edit')
										button.btn-primary.btn-mini(type='button')
											i.icon-edit
									button.btn-primary.btn-mini(type='button', ng-click='confirmDeleteTask(task)')
										i.icon-trash
				span.muted.pull-right
					//small: i Er zijn {{tasks.all.list.length}} taken.
					small: i {{ ui.task.thereAreAmountTasks((tasks.all.list | filter: task.team ).length) }} 
